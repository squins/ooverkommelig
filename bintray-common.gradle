if (project.hasProperty('bintrayUser') && project.hasProperty('bintrayKey')) {
    publishing {
        publications {
            Release(MavenPublication) {
                groupId project.group
                artifactId project.archivesBaseName
                version project.version

                from components.java
            }
        }
    }

    bintray {
        user = bintrayUser
        key = bintrayKey
        publications = ['Release']
        configurations = ['archives']
        pkg {
            userOrg = 'squins'
            repo = 'Squins'
            name = 'ooverkommelig'
            desc = 'Manageable dependency injection for Kotlin'
            licenses = ['MIT']
            websiteUrl = 'http://ooverkommelig.org'
            issueTrackerUrl = 'https://github.com/squins/ooverkommelig/issues'
            vcsUrl = 'https://github.com/squins/ooverkommelig.git'
            githubRepo = 'squins/ooverkommelig'
            version {
                name = project.version
                vcsTag = "release-${project.version}"
            }
        }
    }

    bintrayUpload.dependsOn check, jar, sourcesJar, 'generatePomFileForReleasePublication'
}
